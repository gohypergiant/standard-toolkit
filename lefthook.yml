pre-commit:
  commands:
    index-files:
      run: pnpm run indexer
      stage_fixed: true
      priority: 1
    generate-license:
      run: pnpm run license "--files={staged_files}"
      stage_fixed: true
      priority: 2
    format:
      run: pnpm run format
      stage_fixed: true
      priority: 3
    sort-imports:
      run: pnpm run sort-imports
      stage_fixed: true
      priority: 4
    validate-docblocks:
      run: pnpm run audit:docblocks || true
      priority: 5
    story-audit:
      glob: "design-toolkit/components/src/**/*.stories.{ts,tsx}"
      run: cd design-toolkit/components && pnpm audit:stories:ci
      stage_fixed: true
      priority: 6
      fail_text: "Story structure validation failed. Run 'pnpm audit:stories' for details."

