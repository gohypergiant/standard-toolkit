/*
 * Copyright 2025 Hypergiant Galactic Systems Inc. All rights reserved.
 * This file is licensed to you under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License. You may obtain a copy
 * of the License at https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS
 * OF ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 */

/* @import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..700;1,100..700&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap'); */
@import '@fontsource/roboto-flex';
@import '@fontsource/roboto-mono';
@import 'tailwindcss';
@plugin 'tailwindcss-react-aria-components' {
  prefix: 'dtk'
}
@source './components/foundation';

/* Import generated tokens */
@import './tokens/generated/tokens.css';

@theme {
  /* Remove the default Tailwind styles. */
  --color-*: initial;
  --font-*: initial;
  --radius-*: initial;
  --shadow-*: initial;
  --spacing-*: initial;
  --text-*: initial;

  /** Fonts **/
  --font-primary: "Roboto Flex", sans-serif;
  --font-display: "Roboto Mono", monospace;

  /** Colors **/
  --color-current: currentColor;
  --color-surface-default: var(--colors-neutral-10, #0b0b0b);
  --color-surface-raised: var(--colors-neutral-09, #222222);
  --color-surface-overlay: var(--colors-neutral-08, #2f2f31);
  --color-transparent-dark: var(--colors-alpha-black-02, rgba(0, 0, 0, 0.4));
  --color-transparent-light: var(--colors-alpha-white-01, rgba(255, 255, 255, 0.08));

  --color-interactive-default: var(--colors-neutral-02, #e6e6e6);
  --color-interactive-hover-light: var(--colors-neutral-03, #898989);
  --color-interactive-hover-dark: var(--colors-neutral-08, #2f2f31);
  --color-interactive-disabled: var(--colors-neutral-07, #383838);

  --color-static-light: var(--colors-neutral-07, #383838);
  --color-static-dark: var(--colors-neutral-09, #222222);
  --color-interactive: var(--colors-neutral-05, #565656);
  --color-interactive-hover: var(--colors-neutral-01, #ffffff);

  --color-highlight-bold: var(--colors-highlight-primary-03, #28f5be);
  --color-highlight-hover: var(--colors-highlight-primary-04, #189372);
  --color-highlight-subtle: var(--colors-highlight-primary-05, #0a3d30);
  --color-info-bold: var(--colors-utility-info-03, #686868);
  --color-info-hover: var(--colors-utility-info-04, #424244);
  --color-info-subtle: var(--colors-utility-info-05, #222222);
  --color-advisory-bold: var(--colors-utility-advisory-03, #62a6ff);
  --color-advisory-hover: var(--colors-utility-advisory-04, #3a6499);
  --color-advisory-subtle: var(--colors-utility-advisory-05, #142133);
  --color-normal-bold: var(--colors-utility-normal-03, #30d27e);
  --color-normal-hover: var(--colors-utility-normal-04, #1c7e4c);
  --color-normal-subtle: var(--colors-utility-normal-05, #0a2a19);
  --color-serious-bold: var(--colors-utility-serious-03, #fca400);
  --color-serious-hover: var(--colors-utility-serious-04, #976201);
  --color-serious-subtle: var(--colors-utility-serious-05, #322100);
  --color-critical-bold: var(--colors-utility-critical-03, #d4231d);
  --color-critical-hover: var(--colors-utility-critical-04, #7f1511);
  --color-critical-subtle: var(--colors-utility-critical-05, #2a0706);

  --color-default-light: var(--colors-neutral-01, #ffffff);
  --color-default-dark: var(--colors-neutral-03, #898989);
  --color-inverse-dark: var(--colors-neutral-07,#383838);
  --color-inverse-light: var(--colors-neutral-09, #222222);
  --color-disabled: var(--colors-neutral-05, #565656);
  --color-highlight: var(--colors-highlight-primary-03, #28f5be);
  --color-info: var(--colors-neutral-04, #686868);
  --color-advisory: var(--colors-utility-advisory-03, #62a6ff);
  --color-normal: var(--colors-utility-normal-03, #30d27e);
  --color-serious: var(--colors-utility-serious-03, #fca400);
  --color-critical: var(--colors-utility-critical-03, #d4231d);

  --color-classification-missing: var(--colors-neutral-10, #0b0b0b);
  --color-classification-unclass: var(--colors-classification-unclass, #007A33);
  --color-classification-cui: var(--colors-classification-cui, #502b85);
  --color-classification-confidential: var(--colors-classification-confidential, #0033a0);
  --color-classification-secret: var(--colors-classification-secret, #c8102e);
  --color-classification-top-secret: var(--colors-classification-top-secret, #ff8c00);
  --color-classification-ts-sci: var(--colors-classification-ts-sci, #fce83a);

  /** Radius **/
  --radius-none: 0px;
  --radius-small: 2px;
  --radius-medium: 4px;
  --radius-large: 8px;
  --radius-round: 80px;

  /** Shadows **/
  --shadow-elevation-default: initial;
  --shadow-elevation-overlay:
    0 8px 10px 0 rgba(0 0 0 / 0.2), 0 6px 30px 0 rgba(0 0 0 / 0.12),
    0 16px 24px 0 rgba(0 0 0 / 0.14);
  --shadow-elevation-raised:
    0 5px 5px 0 rgba(0 0 0 / 0.2), 0 3px 14px 0 rgba(0 0 0 / 0.12),
    0 8px 10px 0 rgba(0 0 0 / 0.14);

  /** Spacing **/
  --spacing-none: unset;
  --spacing-0: 0;
  --spacing-xxs: 2px;
  --spacing-xs: 4px;
  --spacing-s: 8px;
  --spacing-m: 12px;
  --spacing-l: 16px;
  --spacing-xl: 24px;
  --spacing-xxl: 40px;
  --spacing-oversized: 80px;

  --icon-size-l: var(--spacing-xl);
  --icon-size-m: 20px;
  --icon-size-s: var(--spacing-l);
  --icon-size-xs: var(--spacing-m);
}

/** Override default enable: https://github.com/tailwindlabs/tailwindcss/discussions/8668 **/
@custom-variant enabled {
  &:not([disabled], [aria-disabled="true"], [data-disabled="true"]), &:enabled {
    @slot;
  }
}

@custom-variant disabled {
  &:is([disabled], [aria-disabled="true"], [data-disabled="true"]), &:disabled {
    @slot;
  }
}

@utility text-header-xxl {
  font-size: var(--typography-header-xxl-size);
  font-weight: 500;
  letter-spacing: 0px;
  line-height: var(--typography-header-xxl-height);
}

@utility text-header-xl {
  font-size: var(--typography-header-xl-size);
  font-weight: 500;
  letter-spacing: 0.18px;
  line-height: var(--typography-header-xl-height);
}

@utility text-header-l {
  font-size: var(--typography-header-l-size);
  font-weight: 500;
  letter-spacing: 0.18px;
  line-height: var(--typography-header-l-height);
}

@utility text-header-m {
  font-size: var(--typography-header-m-size);
  font-weight: 500;
  letter-spacing: 0.25px;
  line-height: var(--typography-header-m-height);
}

@utility text-header-s {
  font-size: var(--typography-header-s-size);
  font-weight: 500;
  letter-spacing: 0.4px;
  line-height: var(--typography-header-s-height);
}

@utility text-header-xs {
  font-size: var(--typography-header-xs-size);
  font-weight: 500;
  letter-spacing: 0.25px;
  line-height: var(--typography-header-xs-height);
}

@utility text-body-l {
  font-size: var(--typography-body-l-size);
  font-weight: 400;
  letter-spacing: 0.5px;
  line-height: var(--typography-body-l-height);
}

@utility text-body-m {
  font-size: var(--typography-body-m-size);
  font-weight: 400;
  letter-spacing: 0.25px;
  line-height: var(--typography-body-m-height);
}

@utility text-body-s {
  font-size: var(--typography-body-s-size);
  font-weight: 400;
  letter-spacing: 0.4px;
  line-height: var(--typography-body-s-height);
}

@utility text-body-xs {
  font-size: var(--typography-body-xs-size);
  font-weight: 400;
  letter-spacing: 0.5px;
  line-height: var(--typography-body-xs-height);
}

@utility text-body-xxs {
  font-size: var(--typography-body-xxs-size);
  font-weight: 400;
  letter-spacing: 0.25px;
  line-height: var(--typography-body-xxs-height);
}

@utility text-button-l {
  font-size: var(--typography-button-l-size);
  font-weight: bold;
  letter-spacing: 0.5px;
  line-height: var(--typography-button-l-height);
}

@utility text-button-m {
  font-size: var(--typography-button-m-size);
  font-weight: bold;
  letter-spacing: 0.25px;
  line-height: var(--typography-button-m-height);
}

@utility text-button-s {
  font-size: var(--typography-button-s-size);
  font-weight: bold;
  letter-spacing: 0.4px;
  line-height: var(--typography-button-s-height);
}

@utility text-button-xs {
  font-size: var(--typography-button-xs-size);
  font-weight: bold;
  letter-spacing: 0.5px;
  line-height: var(--typography-button-xs-height);
}

@utility w-content {
  width: fit-content;
}

@utility h-content {
  height: fit-content;
}

@utility w-* {
  width: --value([ *]);
}

@utility icon-* {
  --icon-color: --value([ *]);
  --icon-color: --value(--color- *);
}

@utility fg-* {
  color: --value([ *]);
  color: --value(--color- *);
  --icon-color: --value([ *]);
  --icon-color: --value(--color- *);
}

body {
  @apply font-primary;
}

@layer components {
  .hide-cancel::-webkit-search-cancel-button {
    display: none;
  }

  /**
   * Rule line only applicable to the QueryBuilder component
   */
  .queryBuilder .rule-lines::before {
    content: '';
    width: 10px;
    position: absolute;
    top: 0;
    bottom: 0;
    left: 50%;
    background-image:
      repeating-linear-gradient(to bottom, var(--colors-neutral-04), var(--colors-neutral-04)),
      repeating-linear-gradient(to right, var(--colors-neutral-04), var(--colors-neutral-04));
    background-position: left -1px, center;
    background-repeat: repeat-y, repeat-x;
    background-size: 1px 4px, 4px 1px;
  }

  .queryBuilder .group > span.rule-lines:last-of-type::before {
    content: '';
    width: 10px;
    position: absolute;
    top: 0;
    bottom: 50%;
    left: 50%;
    background-image:
      repeating-linear-gradient(to bottom,var(--colors-neutral-04), var(--colors-neutral-04)),
      repeating-linear-gradient(to right, var(--colors-neutral-04), var(--colors-neutral-04));
    background-position: left -1px, bottom;
    background-repeat: repeat-y, repeat-x;
    background-size: 1px 4px, 4px 1px;
  }

  .queryBuilder .group > span.rule-lines:last-of-type:has(~ div.group)::before {
    content: '';
    width: 10px;
    position: absolute;
    top: 0;
    bottom: 0;
    left: 50%;
    background-image:
      repeating-linear-gradient(to bottom, var(--colors-neutral-04), var(--colors-neutral-04)),
      repeating-linear-gradient(to right, var(--colors-neutral-04), var(--colors-neutral-04));
    background-position: left -1px, center;
    background-repeat: repeat-y, repeat-x;
    background-size: 1px 4px, 4px 1px;
  }
}
