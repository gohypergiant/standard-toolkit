import { Canvas, Meta } from '@storybook/blocks';

import * as SidenavStories from './sidenav.stories';

<Meta of={SidenavStories} />

# Sidenav

A navigation component that provides a collapsible side panel for hierarchical navigation in applications. The Sidenav component must be used within a `DrawerLayout` to enable push/overlay functionality and proper layout management.

## Layout Requirements

The Sidenav component requires specific layout configuration to function properly:

1. Must be wrapped in a `DrawerLayout` component
2. The trigger button should be placed within `DrawerLayoutMain`
3. The Sidenav itself should be a direct child of `DrawerLayout`

## Components

It is composed of the following components:
- **Sidenav** - Root component that manages the navigation state and layout
- **SidenavTrigger** - Button component that controls the expansion/collapse of the sidenav
- **SidenavHeader** - Container for the navigation header, typically containing a logo and application title
- **SidenavAvatar** - Icon display component with icon, heading, and text
- **SidenavItem** - Interactive navigation item that can be selected, disabled, or contain nested items
- **SidenavLink** - Interactive navigation item that can be selected, disabled, or contain nested items
- **SidenavMenu** - Expandable menu component that contains nested navigation items
- **SidenavMenuItem** - Individual navigation item within a SidenavMenu
- **SidenavContent** - Container for content
- **SidenavFooter** - Container for footer content

## Example Usage

```tsx
<div className="h-screen bg-surface-raised">
  <DrawerLayout push="left">
    <DrawerLayoutMain className="col-start-2">
      <SidenavTrigger>
        <Button variant="icon" size="large">
          <Icon>
            <MenuIcon />
          </Icon>
        </Button>
      </SidenavTrigger>
    </DrawerLayoutMain>

    <Sidenav>
      <SidenavHeader>
        <SidenavAvatar>
          <Icon><AppLogo /></Icon>
          <Heading>Application Header</Heading>
          <Text>subheader</Text>
        </SidenavAvatar>
      </SidenavHeader>

      <SidenavContent>
        <Heading>Navigation</Heading>
        <SidenavItem>
          <Icon><HomeIcon /></Icon>
          <Text>Home</Text>
        </SidenavItem>
        <Divider />
        <SidenavItem isSelected>
          <Icon><SettingsIcon /></Icon>
          <Text>Settings</Text>
        </SidenavItem>
        <Divider />
        <SidenavMenu title="More Options" icon={<Icon><MenuIcon /></Icon>}>
          <SidenavMenuItem>
            <Text>Sub Item 1</Text>
          </SidenavMenuItem>
          <SidenavMenuItem>
            <Text>Sub Item 2</Text>
          </SidenavMenuItem>
        </SidenavMenu>
      </SidenavContent>

      <SidenavFooter>
        <SidenavAvatar>
          <Icon><UserIcon /></Icon>
          <Heading>User Name</Heading>
          <Text>john@example.com</Text>
        </SidenavAvatar>
      </SidenavFooter>
    </Sidenav>
  </DrawerLayout>
</div>
```

## Props

### DrawerLayout Props
- **`push`** `"left"` - Enables push behavior for the sidenav. When not specified, the sidenav will overlay content instead

### Sidenav Props
- **`hidden`** `boolean` - Controls the visibility of the navigation panel
- **`children`** `ReactNode` - Must contain exactly one `SidenavHeader`, `SidenavContent`, and `SidenavFooter`
- **`className`** `string` - Custom CSS class name for the root element

### SidenavHeader Props
- **`children`** `ReactNode` - Content to be rendered in the header section
- **`classNames`** `object` - Optional CSS class names for styling different parts of the header
  - **`header`** `string` - Class name for the header element
  - **`button`** `string` - Class name for the button element
  - **`container`** `string` - Class name for the container element
  - **`icon`** `string` - Class name for the icon element

### SidenavItem Props
Supports all the `ToggleButton` [props and events](?path=/story/components-button--toggle).
- **`classNames`** `object` - Optional CSS class names for styling
  - **`button`** `string` - Class name for the button element
  - **`icon`** `string` - Class name for the icon element

### SidenavLink Props
Supports all the `LinkButton` [props and events](?path=/story/components-button--link).

### SidenavMenu Props
- **`title`** `string` - Required title text displayed in the menu button and panel header
- **`icon`** `ReactNode` - Required icon displayed in the menu button
- **`children`** `ReactNode` - Menu items to be rendered within the expandable panel
- **`classNames`** `object` - Optional CSS class names for styling different parts of the menu
  - **`menu`** `string` - Class name for the disclosure container
  - **`button`** `string` - Class name for the menu trigger button
  - **`icon`** `string` - Class name for the chevron icon
  - **`panel`** `string` - Class name for the disclosure panel
  - **`panelContent`** `string` - Class name for the panel content container

### SidenavMenuItem Props
Supports all the `ToggleButton` [props and events](?path=/story/components-button--toggle).
- **`className`** `string` - Class name for the menu item

### SidenavAvatar Props
- **`children`** `ReactNode` - Must contain exactly one `Icon` or `Avatar` with a `Heading`, and `Text` component
- **`className`** `string` - Class name for the avatar container

### SidenavContent Props
- **`children`** `ReactNode` - Content to be rendered in the footer section
- **`className`** `string` - Class name for the footer container

### SidenavFooter Props
- **`children`** `ReactNode` - Content to be rendered in the footer section
- **`className`** `string` - Class name for the footer container

## States and Styling

The Sidenav uses the following style variants and states:

### Layout States
- `group-closed/sidenav` - Applied when sidenav is closed
- `group-open/sidenav` - Applied when sidenav is open

### Item States
- Default: Basic navigation item styling
- Hover: `enabled:hover:bg-interactive-bold-hover`
- Selected: `enabled:selected:bg-accent-primary-bold`
- Disabled: Prevents interaction and applies muted styling

### Link States
- Default: Basic navigation item styling
- Hover: `enabled:hover:bg-interactive-muted-hover`
- Disabled: Prevents interaction and applies muted styling

### Menu States
- Default: Basic menu button styling with chevron icon
- Hover: `enabled:hover:bg-interactive-muted-hover`

### MenuItem States
- Default: Basic navigation item styling within menu panel
- Hover: `enabled:hover:bg-interactive-muted-hover`
- Selected: `enabled:selected:bg-accent-primary-bold`
- Disabled: Prevents interaction and applies muted styling

## Accessibility

The Sidenav component implements the following accessibility features:
- ARIA landmarks for navigation regions
- Keyboard navigation support (Tab, Arrow keys)
- Focus management for navigation items
- Screen reader announcements for state changes
- ARIA attributes for selected and disabled states

## Examples

### Default Sidenav
<Canvas of={SidenavStories.Default} />

[Github Source](https://github.com/gohypergiant/standard-toolkit/tree/main/design-toolkit/components/src/components/sidenav)


