[
  {
    "$schema": "https://logicstamp.dev/schemas/context/v0.1.json",
    "position": "1/2",
    "type": "LogicStampBundle",
    "schemaVersion": "0.1",
    "entryId": "providers/portal.tsx",
    "depth": 2,
    "createdAt": "2025-12-22T18:06:44.695Z",
    "bundleHash": "uifb:98a6b82ac951277ea6e90ea6",
    "graph": {
      "nodes": [
        {
          "entryId": "providers/portal.tsx",
          "contract": {
            "type": "UIFContract",
            "schemaVersion": "0.3",
            "kind": "react:component",
            "entryId": "providers/portal.tsx",
            "description": "portal - Stateful component",
            "version": {
              "variables": [],
              "hooks": ["useEffect", "useIsSSR", "useState"],
              "components": ["UNSAFE_PortalProvider"],
              "functions": ["PortalProvider"],
              "imports": ["@react-aria/overlays", "@react-aria/ssr", "react"]
            },
            "logicSignature": {
              "props": {},
              "emits": {},
              "state": {
                "portal": "unknown"
              }
            },
            "exports": "named",
            "prediction": ["Has side effects managed by useEffect"],
            "semanticHash": "uif:c91bd45a543d01c43d3ef293",
            "fileHash": "uif:f0c0c487432da06e451605eb"
          },
          "codeHeader": null,
          "code": "/*\n * Copyright 2025 Hypergiant Galactic Systems Inc. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport { UNSAFE_PortalProvider } from '@react-aria/overlays';\nimport { useIsSSR } from '@react-aria/ssr';\nimport {\n  type PropsWithChildren,\n  type RefObject,\n  useEffect,\n  useState,\n} from 'react';\n\nexport function PortalProvider({\n  parentRef,\n  inject,\n  children,\n}: PropsWithChildren<{\n  parentRef?: RefObject<HTMLElement | null>;\n  inject?: HTMLElement | null;\n}>) {\n  const isSSR = useIsSSR();\n  const [portal, setPortal] = useState(isSSR ? null : document.body);\n\n  useEffect(() => {\n    const node = parentRef?.current;\n    // TODO: Ensure proper ssr hydration\n    const port = isSSR ? null : inject;\n\n    if (node && port) {\n      node.appendChild(port);\n\n      setPortal(port);\n    } else if (node) {\n      setPortal(node);\n    }\n\n    return () => {\n      port?.remove();\n\n      setPortal(isSSR ? null : document.body);\n    };\n  }, [isSSR, parentRef, inject]);\n\n  return (\n    <UNSAFE_PortalProvider getContainer={() => portal}>\n      {children}\n    </UNSAFE_PortalProvider>\n  );\n}\n"
        }
      ],
      "edges": []
    },
    "meta": {
      "missing": [
        {
          "name": "UNSAFE_PortalProvider",
          "reason": "No contract found (third-party or not scanned)",
          "referencedBy": "providers/portal.tsx"
        }
      ],
      "source": "logicstamp-context@0.3.2"
    }
  },
  {
    "$schema": "https://logicstamp.dev/schemas/context/v0.1.json",
    "position": "2/2",
    "type": "LogicStampBundle",
    "schemaVersion": "0.1",
    "entryId": "providers/theme-provider.tsx",
    "depth": 2,
    "createdAt": "2025-12-22T18:06:44.698Z",
    "bundleHash": "uifb:4c0b64e6725fb908de02eafe",
    "graph": {
      "nodes": [
        {
          "entryId": "providers/theme-provider.tsx",
          "contract": {
            "type": "UIFContract",
            "schemaVersion": "0.3",
            "kind": "react:component",
            "entryId": "providers/theme-provider.tsx",
            "description": "theme-provider - Stateful component",
            "version": {
              "variables": ["ThemeContext", "defaultContextValue"],
              "hooks": ["useContext", "useEffect", "useMemo", "useState"],
              "components": ["ThemeContext.Provider"],
              "functions": ["ThemeProvider", "useTheme"],
              "imports": [
                "@accelint/design-foundation/tokens",
                "@accelint/design-foundation/tokens/types",
                "client-only",
                "radashi",
                "react",
                "type-fest"
              ]
            },
            "logicSignature": {
              "props": {
                "children": {
                  "type": "React.ReactNode",
                  "optional": true
                },
                "defaultMode": {
                  "type": "import(\"/Users/brandonpierce/Projects/standard-toolkit/packages/design-toolkit/src/providers/theme-provider\").ThemeMode",
                  "optional": true
                },
                "onChange": {
                  "type": "function",
                  "signature": "(mode: import(\"/Users/brandonpierce/Projects/standard-toolkit/packages/design-toolkit/src/providers/theme-provider\").ThemeMode) => void",
                  "optional": true
                },
                "overrides": {
                  "type": "PartialDeep<ThemeTokens>",
                  "optional": true
                }
              },
              "emits": {},
              "state": {
                "mode": "ThemeMode"
              }
            },
            "exports": {
              "named": ["ThemeProvider", "useTheme"]
            },
            "prediction": [
              "Has side effects managed by useEffect",
              "Uses memoization for performance optimization",
              "Consumes React Context for shared state"
            ],
            "semanticHash": "uif:575500a0a118e5f07154cb8e",
            "fileHash": "uif:c980b394b34239fb0429727a"
          },
          "codeHeader": null,
          "code": "/*\n * Copyright 2025 Hypergiant Galactic Systems Inc. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n'use client';\n\nimport 'client-only';\nimport { designTokens } from '@accelint/design-foundation/tokens';\nimport { assign } from 'radashi';\nimport {\n  createContext,\n  type PropsWithChildren,\n  useContext,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react';\nimport type {\n  SemanticColorTokens,\n  StaticColorTokens,\n  ThemeTokens,\n} from '@accelint/design-foundation/tokens/types';\nimport type { PartialDeep } from 'type-fest';\n\nexport type ThemeMode = 'dark' | 'light';\ntype ContextColorTokens = SemanticColorTokens & StaticColorTokens;\n\ntype ThemeContextValue = {\n  mode: ThemeMode;\n  tokens: ContextColorTokens;\n  toggleMode: (mode: ThemeMode) => void;\n};\n/** provide default context value to avoid optional chaining and null checks on the client */\nconst defaultContextValue: ThemeContextValue = {\n  mode: 'dark',\n  tokens: { ...designTokens.dark, ...designTokens.static },\n  toggleMode: (_mode) => {\n    // no-op\n  },\n};\nconst ThemeContext = createContext<ThemeContextValue>(defaultContextValue);\n\ntype ThemeProviderProps = PropsWithChildren & {\n  defaultMode?: ThemeMode;\n  onChange?: (mode: ThemeMode) => void;\n  /** override existing values in the theme */\n  overrides?: PartialDeep<ThemeTokens>;\n};\n\nexport function ThemeProvider({\n  children,\n  defaultMode,\n  onChange,\n  overrides,\n}: ThemeProviderProps) {\n  const [mode, setMode] = useState<ThemeMode>(defaultMode ?? 'dark');\n\n  useEffect(() => {\n    if (document) {\n      const { documentElement } = document;\n      documentElement.classList.remove('dark', 'light');\n      documentElement.classList.add(mode);\n    }\n  }, [mode]);\n\n  const tokens: ContextColorTokens = useMemo(() => {\n    const tokensWithOverrides = assign(designTokens, overrides as ThemeTokens);\n    return {\n      ...tokensWithOverrides[mode],\n      ...tokensWithOverrides.static,\n    };\n  }, [mode, overrides]);\n\n  return (\n    <ThemeContext.Provider\n      value={{\n        mode,\n        tokens,\n        toggleMode: (mode: ThemeMode) => {\n          setMode(mode);\n          onChange?.(mode);\n        },\n      }}\n    >\n      {children}\n    </ThemeContext.Provider>\n  );\n}\n\nexport function useTheme() {\n  return useContext(ThemeContext);\n}\n"
        }
      ],
      "edges": []
    },
    "meta": {
      "missing": [
        {
          "name": "ThemeContext.Provider",
          "reason": "No contract found (third-party or not scanned)",
          "referencedBy": "providers/theme-provider.tsx"
        }
      ],
      "source": "logicstamp-context@0.3.2"
    }
  }
]
