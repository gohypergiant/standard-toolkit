import { Canvas, Meta } from '@storybook/addon-docs/blocks';

import * as ColorPickerStories from './color-picker.stories';

<Meta of={ColorPickerStories} />

# ColorPicker
A grid of interactive color swatches for selecting from a predefined palette. Built on React Aria Components with accessibility out of the box.

## Example Usage

### Basic
```tsx
<ColorPicker
  items={['#ECECE6', '#898989', '#62a6ff', '#30D27E', '#FCA400', '#D4231D']}
  onChange={(color) => console.log('Selected:', color)}
/>
```
<Canvas of={ColorPickerStories.Default} />

### Controlled
```tsx
const [selectedColor, setSelectedColor] = useState('#30D27E');

<ColorPicker
  items={['#ECECE6', '#898989', '#62a6ff', '#30D27E', '#FCA400', '#D4231D']}
  value={selectedColor}
  onChange={setSelectedColor}
/>
```
<Canvas of={ColorPickerStories.Controlled} />

### Custom Styling
```tsx
<ColorPicker
  items={['#ff0000', '#00ff00', '#0000ff']}
  classNames={{
    picker: 'gap-4',
    item: 'rounded-lg',
    swatch: 'w-8 h-8',
  }}
/>
```

### With Color Objects
```tsx
import { parseColor } from '@react-stately/color';

const colorObjects = [
  parseColor('#ff0000'),
  parseColor('hsl(120, 100%, 50%)'),
  parseColor('rgb(0, 0, 255)'),
];

<ColorPicker
  items={colorObjects}
  value={colorObjects[0]}
  onChange={(color) => console.log('Selected:', color.toString('hex'))}
/>
```

## Props
Extends [`ColorSwatchPicker`](https://react-spectrum.adobe.com/react-aria/ColorSwatchPicker.html#props) props from react-aria-components.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `items` | `Color[] \| string[]` | - | Colors to display (hex, hexa, rgb, rgba, hsl, hsla, hsb, hsba strings or Color objects) |
| `value` | `Color \| string` | - | Controlled selected color |
| `defaultValue` | `Color \| string` | - | Default selected color |
| `onChange` | `(color: Color) => void` | - | Called when selection changes |
| `isDisabled` | `boolean` | `false` | Whether the picker is disabled |
| `classNames` | `object` | - | Custom classes (see below) |

**classNames:**

| Key | Description |
|-----|-------------|
| `picker` | Main picker container (grid layout) |
| `item` | Individual color swatch items |
| `swatch` | The color swatch elements |

## Accessibility
- Keyboard: Arrow keys to navigate, Enter/Space to select
- ARIA attributes for screen readers
- Focus management and visual focus indicators
- Color value announcements

## Implementation Notes
- Wraps `ColorSwatchPicker`, `ColorSwatchPickerItem`, and `ColorSwatch` from react-aria-components
- Supports color strings in these formats: `hex`, `hexa`, `rgb`, `rgba`, `hsl`, `hsla`, `hsb`, `hsba`
- Also accepts `Color` objects from `@react-stately/color`
- Grid layout adapts to container width

**Related:**
- [React Aria ColorSwatchPicker](https://react-spectrum.adobe.com/react-aria/ColorSwatchPicker.html)
- [Github Source](https://github.com/gohypergiant/standard-toolkit/tree/main/packages/design-toolkit/src/components/color-picker)
