import { Canvas, Meta } from '@storybook/addon-docs/blocks';

import * as ListStories from './list.stories';

<Meta of={ListStories} />

# List
A flexible grid list component for displaying selectable items with rich content. Built on React Aria Components.

Components:
- **List** - Main list container with variant options
- **ListItem** - Individual selectable item
- **ListItemContent** - Container for title and description
- **ListItemTitle** - Primary text content
- **ListItemDescription** - Secondary text content

## Example Usage

```tsx
<List aria-label="Items list" className="h-[400px]">
  <ListItem textValue="Item 1">
    <Icon><Placeholder /></Icon>
    <ListItemContent>
      <ListItemTitle>Item 1</ListItemTitle>
      <ListItemDescription>Description text</ListItemDescription>
    </ListItemContent>
  </ListItem>
</List>
```
<Canvas of={ListStories.Default} />

### With Selection
```tsx
<List
  selectionMode="multiple"
  selectedKeys={selectedKeys}
  onSelectionChange={setSelectedKeys}
  aria-label="Selectable list"
>
  <ListItem id="item-1" textValue="Item 1">
    <ListItemContent>
      <ListItemTitle>Item 1</ListItemTitle>
    </ListItemContent>
  </ListItem>
</List>
```
<Canvas of={ListStories.Stateful} />

### Dynamic Rendering
```tsx
<List items={animals} aria-label="Animals">
  {(item) => (
    <ListItem key={item.id} textValue={item.name}>
      <ListItemContent>
        <ListItemTitle>{item.name}</ListItemTitle>
        <ListItemDescription>{item.description}</ListItemDescription>
      </ListItemContent>
    </ListItem>
  )}
</List>
```

## Variants

| Variant | Description |
|---------|-------------|
| `cozy` | Standard spacing with comfortable padding (default) |
| `compact` | Reduced spacing for dense layouts |

## Props

### List
Extends [`GridList`](https://react-spectrum.adobe.com/react-aria/GridList.html#props) props from react-aria-components.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `variant` | `'cozy' \| 'compact'` | `'cozy'` | Spacing variant |
| `items` | `Iterable<T>` | - | Data items for dynamic rendering |
| `selectionMode` | `'none' \| 'single' \| 'multiple'` | `'none'` | Selection behavior |
| `selectedKeys` | `Set<Key>` | - | Controlled selected keys |
| `onSelectionChange` | `(keys: Set<Key>) => void` | - | Called when selection changes |
| `aria-label` | `string` | - | Accessible label (required) |
| `className` | `string` | - | Custom CSS class |
| `children` | `ReactNode \| (item: T) => ReactNode` | - | List items or render function |

### ListItem

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `id` | `Key` | - | Unique identifier (required for selection) |
| `textValue` | `string` | - | Text for accessibility and keyboard nav |
| `isDisabled` | `boolean` | `false` | Disabled state |
| `href` | `string` | - | URL for link items |
| `classNames` | `object` | - | Custom classes (`item`, `icon`) |
| `children` | `ReactNode` | - | Item content |

### ListItemContent

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactNode` | - | Title and/or description components |
| `className` | `string` | - | Custom CSS class |

### ListItemTitle

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactNode` | - | Title text |
| `className` | `string` | - | Custom CSS class |

### ListItemDescription

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactNode` | - | Description text |
| `className` | `string` | - | Custom CSS class |

## Accessibility
- Keyboard: Arrow keys, Home/End, Space/Enter for selection
- ARIA grid role with proper row structure
- Screen reader announcements for selection changes
- `aria-label` or `aria-labelledby` required

## Implementation Notes
- Wraps `GridList` from react-aria-components
- Icons automatically sized via IconProvider (large for cozy, small for compact)
- Supports inline actions via Menu, Button, etc.

**Related:**
- [React Aria GridList](https://react-spectrum.adobe.com/react-aria/GridList.html)
- [Github Source](https://github.com/gohypergiant/standard-toolkit/tree/main/packages/design-toolkit/src/components/list)
