/*
 * Copyright 2026 Hypergiant Galactic Systems Inc. All rights reserved.
 * This file is licensed to you under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License. You may obtain a copy
 * of the License at https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS
 * OF ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 */

@reference '@accelint/design-foundation/styles';

@utility bracket-pseudo-base {
  @apply rounded-small fg-accent-primary-bold absolute left-[4px] border border-current border-t-transparent border-b-transparent border-l-transparent content-[''];
}

@layer components.l1 {
  .row-container {
    --height: attr(data-height px);

    @apply outline-static py-xxs relative flex items-center outline;
    height: var(--height);
  }

  .row-block {
    --block-height: attr(data-height px);

    @apply bg-accent-primary-muted outline-accent-primary-bold absolute outline;
    height: var(--block-height);
  }

  .row-spacer {
    @apply fg-accent-primary-bold absolute h-px bg-current;
    transform: translateX(var(--translate-x));
    width: var(--width);
  }

  .bracket-container {
    @apply relative;

    --rotate: attr(data-rotate deg);
    min-height: attr(data-height px);
    transform: translateX(var(--translate-x)) rotate(var(--rotate));

    &::before {
      @apply bracket-pseudo-base -top-px rotate-45;
    }

    &::after {
      @apply bracket-pseudo-base -bottom-px -rotate-45;
    }
  }

  .bracket {
    @apply fg-accent-primary-bold rounded-bl-small rounded-tl-small absolute left-0 w-[6px] border border-r-transparent border-b-current bg-transparent;
    min-height: attr(data-height px);
  }
}
