import { Canvas, Meta } from '@storybook/addon-docs/blocks';

import * as SliderStories from './slider.stories';

<Meta of={SliderStories} />

# Slider

Range input for selecting a single value or range of values within a specified range.

```tsx
<Slider label="Opacity" defaultValue={30} />

<Slider label="Volume" defaultValue={50} showInput />

<Slider label="Price Range" defaultValue={[20, 80]} showInput />

<Slider
  label="Quality"
  defaultValue={50}
  markers={[
    { value: 0, label: 'Low' },
    { value: 50, label: 'Medium' },
    { value: 100, label: 'High' },
  ]}
  showMarkerLabels
  snapToMarkers
/>
```

<Canvas of={SliderStories.Default} />

## Input Fields

Enable numeric input fields for direct value entry with `showInput`.

<Canvas of={SliderStories.WithInput} />

<Canvas of={SliderStories.RangeWithInput} />

## Markers

Markers provide visual reference points along the slider track.

<Canvas of={SliderStories.WithLabeledMarkers} />

<Canvas of={SliderStories.RangeWithMarkers} />

## Snap to Markers

Use `snapToMarkers` for discrete selection where users can only choose from predefined values.

<Canvas of={SliderStories.SnapToLabeledMarkers} />

<Canvas of={SliderStories.SnapToUnevenMarkers} />

## Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `label` | `string` | — | Text label for the slider (required) |
| `value` | `number \| number[]` | — | Controlled value |
| `defaultValue` | `number \| number[]` | — | Initial value; use array for range |
| `minValue` | `number` | `0` | Minimum allowed value |
| `maxValue` | `number` | `100` | Maximum allowed value |
| `step` | `number` | — | Step increment |
| `orientation` | `'horizontal' \| 'vertical'` | `'horizontal'` | Slider direction |
| `layout` | `'grid' \| 'stack'` | `'grid'` | Layout arrangement |
| `showLabel` | `boolean` | `true` | Whether to display the label |
| `showValueLabels` | `boolean` | `true` | Whether to display min/max value labels |
| `showInput` | `boolean` | `false` | Whether to display numeric input fields |
| `markers` | `number \| number[] \| SliderMarker[]` | — | Marker configuration (see below) |
| `showMarkerLabels` | `boolean` | `false` | Whether to display labels on markers |
| `snapToMarkers` | `boolean` | `false` | Restrict selection to marker values only |
| `onChange` | `(value: number[]) => void` | — | Callback when value changes |
| `onChangeEnd` | `(value: number[]) => void` | — | Callback when drag ends |
| `isDisabled` | `boolean` | — | Whether the slider is disabled |
| `classNames` | `object` | — | Custom classes for internal elements |

Extends React Aria [Slider](https://react-spectrum.adobe.com/react-aria/Slider.html) props.

### Markers Configuration

The `markers` prop accepts:
- `number` — Creates evenly spaced markers (e.g., `5` creates markers at 0%, 25%, 50%, 75%, 100%)
- `number[]` — Array of specific values (e.g., `[0, 32, 72, 100]`)
- `SliderMarker[]` — Array of objects with `value` and optional `label`

When `showMarkerLabels` is enabled, min/max value labels are automatically hidden if a labeled marker exists at that position.

### classNames

| Key | Description |
|-----|-------------|
| `slider` | Main slider container |
| `label` | Label element |
| `inputs` | Input fields wrapper |
| `input` | Individual input field |
| `track` | Slider track |
| `trackBackground` | Track background |
| `trackValue` | Filled portion of track |
| `thumb` | Slider thumb |
| `minValue` | Min value label |
| `maxValue` | Max value label |
| `markers` | Markers container |
| `marker` | Individual marker |
| `markerDot` | Marker dot/tick |
| `markerLabel` | Marker label text |

## Accessibility

- Full keyboard navigation (Arrow keys, Page Up/Down, Home/End)
- ARIA attributes for screen readers
- Value announcements during interaction
- Tooltips display current value (hidden when input fields are shown)
- Markers rendered with `aria-hidden` as visual indicators

## Related

- [React Aria Slider](https://react-spectrum.adobe.com/react-aria/Slider.html)
- [GitHub Source](https://github.com/gohypergiant/standard-toolkit/tree/main/packages/design-toolkit/src/components/slider)
