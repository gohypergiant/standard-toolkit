import { Canvas, Meta } from '@storybook/addon-docs/blocks';

import * as DateFieldStories from './date-field.stories';

<Meta of={DateFieldStories} />

# DateField
Form input for entering and editing date and time values. Supports various granularities (day, hour, minute, second) and customizable formatting.

## Example Usage

```tsx
import { parseDateTime } from '@internationalized/date';

<DateField
  label="Select Date"
  defaultValue={parseDateTime('2020-01-23T00:00:00')}
  granularity="day"
  description="Format: MMM dd yyyy"
/>
```
<Canvas of={DateFieldStories.Default} />

### With Full Month Names
```tsx
<DateField
  label="Select Date"
  defaultValue={parseDateTime('2020-01-23T00:00:00')}
  shortMonth={false}
/>
```
<Canvas of={DateFieldStories.WithoutShortMonth} />

### Date and Time
```tsx
import { parseAbsoluteToLocal } from '@internationalized/date';

<DateField
  label="Select Date & Time"
  defaultValue={parseAbsoluteToLocal('2021-04-07T18:45:22Z')}
  granularity="second"
/>
```
<Canvas of={DateFieldStories.DateTime} />

### Readonly
```tsx
<DateField
  label="Event Date"
  defaultValue={parseAbsoluteToLocal('2021-04-07T18:45:22Z')}
  granularity="second"
  isReadOnly
/>
```
<Canvas of={DateFieldStories.Readonly} />

## Sizes

| Size | Description |
|------|-------------|
| `medium` | Standard size with calendar icon (default) |
| `small` | Compact size, no calendar icon |

## Props
Extends [`DateField`](https://react-spectrum.adobe.com/react-aria/DateField.html#props) props from react-aria-components.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `label` | `string` | - | Label text |
| `description` | `string` | - | Helper text below input |
| `errorMessage` | `string` | - | Error message when invalid |
| `size` | `'small' \| 'medium'` | `'medium'` | Size variant |
| `shortMonth` | `boolean` | `true` | Display 3-letter month abbreviation (e.g., "JAN" vs "01") |
| `granularity` | `'day' \| 'hour' \| 'minute' \| 'second'` | `'day'` | Date/time precision |
| `value` | `DateValue` | - | Controlled date value |
| `defaultValue` | `DateValue` | - | Default date value |
| `onChange` | `(value: DateValue) => void` | - | Called when value changes |
| `isReadOnly` | `boolean` | `false` | Readonly state |
| `isRequired` | `boolean` | `false` | Required field |
| `isDisabled` | `boolean` | `false` | Disabled state |
| `isInvalid` | `boolean` | - | Invalid state |
| `name` | `string` | - | Form field name |
| `classNames` | `object` | - | Custom classes (see below) |

**classNames:**

| Key | Description |
|-----|-------------|
| `field` | Main container |
| `label` | Label element |
| `control` | Control container |
| `input` | Input container |
| `segment` | Date segment |
| `description` | Description text |
| `error` | Error message |

## Accessibility
- Keyboard: Tab between segments, Arrow keys to adjust values, type to enter values directly
- ARIA attributes for screen readers
- Focus management between date segments

## Implementation Notes
- Wraps `DateField` and `DateInput` from react-aria-components
- Uses `@internationalized/date` for robust date handling across locales
- Supports timezone-aware dates with `parseAbsoluteToLocal`

**Related:**
- [React Aria DateField](https://react-spectrum.adobe.com/react-aria/DateField.html)
- [@internationalized/date](https://react-spectrum.adobe.com/internationalized/date/)
- [Github Source](https://github.com/gohypergiant/standard-toolkit/tree/main/packages/design-toolkit/src/components/date-field)
