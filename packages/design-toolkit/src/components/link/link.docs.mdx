import { Canvas, Meta } from '@storybook/addon-docs/blocks';

import * as LinkStories from './link.stories';

<Meta of={LinkStories} />

# Link
An accessible link component with optional visited state tracking. Built on React Aria Components.

Components:
- **Link** - Main link component with visited state management
- **LinkProvider** - Context provider for consistent props across multiple links

## Example Usage

```tsx
<Link href="/dashboard">Go to Dashboard</Link>

<Link href="https://example.com" target="_blank">
  External Link
</Link>

<Link allowsVisited href="/page">
  This link tracks visited state
</Link>
```
<Canvas of={LinkStories.Default} />

### Custom Visited Styles
```tsx
<LinkProvider allowsVisited className="visited:fg-accent-primary-pressed visited:underline">
  <Link href="/link1">Link One</Link>
  <Link href="/link2">Link Two</Link>
</LinkProvider>
```
<Canvas of={LinkStories.CustomVisitedStyles} />

### Inline Links
```tsx
<p>
  Learn more about our <Link href="/features">amazing features</Link> and get started today.
</p>
```
<Canvas of={LinkStories.Multiple} />

## Props
Extends [`Link`](https://react-spectrum.adobe.com/react-aria/Link.html#props) props from react-aria-components.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `href` | `string` | - | URL or path for navigation |
| `target` | `'_blank' \| '_self' \| '_parent' \| '_top'` | - | Target window |
| `allowsVisited` | `boolean` | `false` | Track and show visited state |
| `isVisited` | `boolean` | `false` | Initial visited state |
| `isDisabled` | `boolean` | `false` | Disabled state |
| `children` | `ReactNode` | - | Link content |
| `className` | `string` | - | Custom CSS class |

### LinkProvider
Context provider for setting default props across multiple Link components.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `allowsVisited` | `boolean` | - | Default visited tracking for all child Links |
| `className` | `string` | - | Default styling for all child Links |
| `children` | `ReactNode` | - | Link components |

```tsx
<LinkProvider allowsVisited>
  <Link href="/link1">Link One</Link>
  <Link href="/link2">Link Two</Link>
</LinkProvider>
```

## Accessibility
- Keyboard: Enter to activate
- Proper `<a>` element with semantic HTML
- ARIA attributes for screen readers
- Focus management and visual focus indicators

## Implementation Notes
- Wraps `Link` from react-aria-components
- Visited state controlled via `data-visited` attribute
- Icons automatically sized via IconProvider

**Related:**
- [React Aria Link](https://react-spectrum.adobe.com/react-aria/Link.html)
- [Github Source](https://github.com/gohypergiant/standard-toolkit/tree/main/packages/design-toolkit/src/components/link)
