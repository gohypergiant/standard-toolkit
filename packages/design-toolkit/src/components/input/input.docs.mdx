import { Canvas, Meta } from '@storybook/addon-docs/blocks';

import * as InputStories from './input.stories';

<Meta of={InputStories} />

# Input
A flexible text input component with auto-sizing, clear button, and validation states. Built on React Aria Components.

## Example Usage

```tsx
<Input placeholder="Enter your name" />

<Input
  placeholder="Search..."
  isClearable
  size="small"
/>

<Input
  placeholder="Type here..."
  autoSize
  defaultValue="Initial value"
/>
```
<Canvas of={InputStories.Default} />

## Sizes

| Size | Description |
|------|-------------|
| `medium` | Standard size (default) |
| `small` | Compact size for dense layouts |

## Props
Extends [`Input`](https://react-spectrum.adobe.com/react-aria/TextField.html#input) props from react-aria-components.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `size` | `'medium' \| 'small'` | `'medium'` | Size variant |
| `autoSize` | `boolean` | `false` | Auto-resize width based on content |
| `isClearable` | `boolean` | `true` | Show clear button |
| `isInvalid` | `boolean` | `false` | Invalid state styling |
| `prefix` | `ReactNode` | - | Content before input (icons, symbols) |
| `suffix` | `ReactNode` | - | Content after input (units, icons) |
| `placeholder` | `string` | - | Placeholder text |
| `defaultValue` | `string` | - | Initial value (uncontrolled) |
| `value` | `string` | - | Controlled value |
| `onChange` | `(e: ChangeEvent) => void` | - | Called when value changes |
| `disabled` | `boolean` | `false` | Disabled state |
| `readOnly` | `boolean` | `false` | Read-only state |
| `type` | `string` | `'text'` | HTML input type |
| `classNames` | `object` | - | Custom classes (see below) |

**classNames:**

| Key | Description |
|-----|-------------|
| `container` | Main container wrapper |
| `sizer` | Sizer element for auto-sizing |
| `input` | The input element |
| `clear` | Clear button |
| `prefix` | Prefix content wrapper |
| `suffix` | Suffix content wrapper |

## Accessibility
- Escape key clears input when clearable
- Full keyboard navigation support
- ARIA attributes for screen readers

## Implementation Notes
- Wraps `Input` from react-aria-components
- Clear button excluded from tab order for better UX
- Auto-size uses CSS data attributes for width calculation

**Related:**
- [React Aria TextField](https://react-spectrum.adobe.com/react-aria/TextField.html#input)
- [Github Source](https://github.com/gohypergiant/standard-toolkit/tree/main/packages/design-toolkit/src/components/input)
