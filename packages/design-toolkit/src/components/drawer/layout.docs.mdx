import { Meta, Canvas, Controls } from '@storybook/addon-docs/blocks';
import * as DrawerLayoutStories from './layout.stories';

<Meta of={DrawerLayoutStories} />

# DrawerLayout

A flexible CSS Grid-based layout system for positioning panels on any side of the main content area. DrawerLayout is a shared layout primitive used by both [Drawer](?path=/docs/components-drawer--docs) and [Sidenav](?path=/docs/components-sidenav--docs) components.

It supports:
- **extend**: Control which drawers span the full container dimension
- **push**: Control whether drawers push content aside or overlay it

<Canvas of={DrawerLayoutStories.Default} />

## Structure

```tsx
<DrawerLayout extend="left right" push="left">
  <DrawerLayoutMain>
    {/* Main content area */}
  </DrawerLayoutMain>

  {/* Drawer, Sidenav, or other panel components */}
</DrawerLayout>
```

- **DrawerLayout**: CSS Grid container that manages layout structure via `extend` and `push` props
- **DrawerLayoutMain**: Main content area that responds to panel states

## Props

### DrawerLayout Props

- `extend`
  - Type: `'top bottom' | 'left right' | 'top' | 'bottom' | 'left' | 'right'`
  - Default: `'left right'`
  - Description: Determines which panels extend to full container dimensions. With `'left right'`, side panels span the full height while top/bottom only span the middle. With `'top bottom'`, top/bottom panels span full width.

- `push`
  - Type: `'top' | 'bottom' | 'left' | 'right'` (can combine, e.g., `'left right'`)
  - Default: `undefined`
  - Description: Determines which panels push the main content aside rather than overlaying it. When undefined, panels float over the content.

- `children`
  - Type: ReactNode
  - Required
  - Description: Content to render within the layout (DrawerLayoutMain and panel components)

### DrawerLayoutMain Props

- `className`
  - Type: string
  - Optional
  - Description: Additional CSS classes for the main content area

## How `extend` Works

```
extend: 'left right' (default)        extend: 'top bottom'
┌──────┬──────────┬───────┐           ┌─────────────────────────┐
│      │   top    │       │           │          top            │
│      ├──────────┤       │           ├──────┬──────────┬───────┤
│ left │   main   │ right │           │ left │   main   │ right │
│      ├──────────┤       │           ├──────┴──────────┴───────┤
│      │  bottom  │       │           │         bottom          │
└──────┴──────────┴───────┘           └─────────────────────────┘
```

## How `push` Works

- **`push={undefined}`**: Panels float over main content (overlay behavior)
- **`push="left"`**: Left panel pushes content to the right
- **`push="left right"`**: Both side panels push content, making it narrower
- **`push="top bottom left right"`**: All panels push content from all sides

## Implementation Notes

- Built with TailwindCSS for styling
- Uses CSS Grid for layout management
- Layout responds automatically to panel open/close states

## Usage Requirements

- Must include exactly one `DrawerLayoutMain` component
- Panel components (Drawer, Sidenav) should be siblings of DrawerLayoutMain

## See Also

- [Drawer](?path=/docs/components-drawer--docs) - Panel component with views and menu
- [Sidenav](?path=/docs/components-sidenav--docs) - Collapsible side navigation panel

<Controls of={DrawerLayoutStories.Default} />
